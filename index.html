<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>香港之旅 - 頁面框架</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* 定義全域顏色變數，方便統一修改視覺風格 */
        :root { --color-blue: #4169E1; --color-red: #D93025; }
        .text-royal-blue { color: var(--color-blue); }
        .bg-royal-blue { background-color: var(--color-blue); }
        
        /* 右側功能選單的進入與離開動畫 (Vue Transition 使用) */
        .menu-enter-active, .menu-leave-active { transition: transform 0.3s ease; }
        .menu-enter-from, .menu-leave-to { transform: translateX(100%); } /* 從右側 100% 處滑入/滑出 */
    </style>
</head>
<body class="bg-gray-50">

<div id="app" class="max-w-md mx-auto min-h-screen bg-white shadow-xl relative overflow-x-hidden">

    <header class="sticky top-0 z-30 bg-white border-b p-4 flex justify-between items-center">
        <div>
            <h1 class="text-xl font-bold text-gray-800">{{ pageTitle }}</h1>
            <p class="text-[10px] text-gray-400" v-if="isEditMode">模式：編輯中</p>
        </div>
        
        <div class="flex items-center space-x-3">
            <button @click="isEditMode = !isEditMode" 
                    :class="isEditMode ? 'bg-red-500 text-white' : 'bg-gray-100 text-gray-600'"
                    class="text-xs px-3 py-1 rounded-full font-bold transition">
                {{ isEditMode ? '退出' : '編輯' }}
            </button>
            <button @click="isMenuOpen = true" class="text-gray-600 text-xl p-1">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <div v-if="isMenuOpen" @click="isMenuOpen = false" class="fixed inset-0 bg-black/50 z-40"></div>
    
    <transition name="menu">
        <nav v-if="isMenuOpen" class="fixed top-0 right-0 h-full w-64 bg-white z-50 shadow-2xl p-6">
            <div class="flex justify-between items-center mb-8">
                <h2 class="font-bold text-lg">功能選單</h2>
                <button @click="isMenuOpen = false" class="text-gray-400"><i class="fas fa-times"></i></button>
            </div>
            <ul class="space-y-2">
                <li v-for="menu in menus" :key="menu.tab" 
                    @click="activeTab = menu.tab; isMenuOpen = false"
                    :class="activeTab === menu.tab ? 'bg-blue-50 text-royal-blue font-bold' : 'text-gray-600'"
                    class="flex items-center space-x-3 p-3 cursor-pointer rounded-xl transition">
                    <i :class="menu.icon" class="w-6"></i>
                    <span>{{ menu.name }}</span>
                </li>
            </ul>
        </nav>
    </transition>

    <main class="p-4 min-h-[80vh]">
        <section v-if="activeTab === 'itinerary'">
            <div v-if="isEditMode" class="mb-4">
                <button @click="openModal" class="w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-400 text-sm hover:bg-gray-50 transition">
                    + 新增日期或行程項目
                </button>
            </div>
        
            <div v-if="itineraryList.length > 0" class="space-y-3">
                <div v-for="item in itineraryList" :key="item.id" class="p-4 bg-white border rounded-xl shadow-sm">
                    <div class="flex justify-between items-center">
                        <span class="text-xs font-bold text-royal-blue">{{ item.time }}</span>
                        <span class="text-[10px] px-2 py-0.5 bg-gray-100 rounded text-gray-500">{{ item.category }}</span>
                    </div>
                    <h3 class="font-bold text-gray-800 mt-1">{{ item.name }}</h3>
                </div>
            </div>
        
            <div v-else class="text-center py-20 text-gray-300">
                <i class="fas fa-calendar-day text-5xl mb-3"></i>
                <p>尚無行程資料</p>
            </div>
        </section>
        
        <section v-if="activeTab === 'info'">
            <div class="text-center py-20 text-gray-300">
                <i class="fas fa-info-circle text-5xl mb-3"></i>
                <p>尚無旅行資訊</p>
            </div>
        </section>
        
        <section v-if="activeTab === 'shopping'">
            <div class="text-center py-20 text-gray-300">
                <i class="fas fa-shopping-basket text-5xl mb-3"></i>
                <p>尚無購物項目</p>
            </div>
        </section>

        <section v-if="activeTab === 'food'">
            <div class="text-center py-20 text-gray-300">
                <i class="fas fa-utensils text-5xl mb-3"></i>
                <p>尚無美食口袋名單</p>
            </div>
        </section>

        <section v-if="activeTab === 'expense'">
            <div class="text-center py-20 text-gray-300">
                <i class="fas fa-hand-holding-usd text-5xl mb-3"></i>
                <p>尚無花費記錄</p>
            </div>
        </section>

    </main>

    <footer class="p-8 text-center text-gray-300 text-xs">
        &copy; 2024 香港之旅管理系統
    </footer>

</div>

<script>
    const { createApp, ref, computed } = Vue;

    createApp({
        setup() {
            // --- 響應式狀態 (State) ---
            const isEditMode = ref(false);    // 是否為編輯模式
            const isMenuOpen = ref(false);    // 側邊選單是否開啟
            const activeTab = ref('itinerary'); // 當前激活的分頁 ID

            // --- 資料定義 (Data) ---
            // 定義選單的項目、對應的分頁 ID 以及使用的圖示
            const menus = [
                { tab: 'itinerary', name: '每日行程', icon: 'fas fa-calendar-alt' },
                { tab: 'info', name: '旅行資訊', icon: 'fas fa-info-circle' },
                { tab: 'shopping', name: '購物清單', icon: 'fas fa-shopping-basket' },
                { tab: 'food', name: '美食清單', icon: 'fas fa-utensils' },
                { tab: 'expense', name: '花費紀錄', icon: 'fas fa-hand-holding-usd' }
            ];

            // --- 計算屬性 (Computed) ---
            // 根據目前的 activeTab 自動從 menus 陣列中找尋對應的名稱作為標題
            const pageTitle = computed(() => {
                const current = menus.find(m => m.tab === activeTab.value);
                return current ? current.name : '旅遊小幫手';
            });

            // 將變數與方法暴露給 HTML 模板使用
            return {
                isEditMode,
                isMenuOpen,
                activeTab,
                menus,
                pageTitle
            };
        }
    }).mount('#app'); // 將 Vue 實例掛載到 id 為 app 的元素上
</script>

</body>
</html>
